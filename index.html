<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

    <title>Zzish Quick Javascript Client SDK</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
    <script src="//code.jquery.com/jquery-1.11.2.min.js"></script>

    <script src="zzish.js"></script>
    <script>
        var activityId; 
        var userId;
        var init = false;

        function initApp() {
            Zzish.init($("#appId").val());
            init = true;
            console.log("App Initalized with id",$("#appId").val());
        }

        function createUser() {
            if (init) {
                userId = Zzish.getUser($("#userId").val(),$("#name").val(),function(status,message) {
                    console.log("User created with status" + status);    
                });
                
            }
            else {
                alert ("Please init with your APP_ID from http://www.zzish.co.uk/developer/")
            }
        }

        function startActivity() {
            if (init) {            
                activityId = Zzish.startActivity(userId,$("#aname").val(),$("#groupCode").val(),function(status,message) {
                    console.log("Activity " + activityId + "started with status" + status);    
                });
            }
            else {
                alert ("Please init with your APP_ID from http://www.zzish.co.uk/developer/")
            }
            
        }

        function logAction() {
            if (init) {                        
                Zzish.logAction(activityId,$("#actname").val(),$("#response").val(),$("#Score").val(),$("#correct").val(),$("#Duration").val(),$("#Attempts").val(),$("#attributes").val(),function(status,message) {
                    console.log("Action " + $("#actname").val() + "logged with status" + status);                
                });            
            }
            else {
                alert ("Please init with your APP_ID from http://www.zzish.co.uk/developer/")
            }
        }

        function stopActivity() {
            if (init) {             
                Zzish.stopActivity(activityId,$("#aattributes").val(),function(status,message) {
                    console.log("Activity " + activityId + "stopped with status" + status);
                });            
            }
            else {
                alert ("Please init with your APP_ID from http://www.zzish.co.uk/developer/")
            }
        }   

        function cancelActivity() {
            if (init) {                        
                Zzish.cancelActivity(activityId,function(status,message) {
                    console.log("Activity " + activityId + "cancelled with status" + status);
                });            
            }
            else {
                alert ("Please init with your APP_ID from http://www.zzish.co.uk/developer/")
            }
        }        
    </script>
</head>

<body>
<input type="text" id="appId" name="appId" placeholder="Your APP ID" value=""/><br/>
<input type="button" onclick="initApp()" value="Initialise"/><br/>
<h1>Create user</h1>
<input type="text" id="userId" name="userId" placeholder="userId" value=""/><br/>
<input type="text" id="name" name="name" placeholder="Name" value=""/><br/>
<input type="button" onclick="createUser()" value="Create User"/><br/>
<br/>
<h1>Start Activity</h1>
<input type="text" id="groupCode" name="groupCode" placeholder="Class code" value=""/><br/>
<input type="text" id="aname" name="aname" placeholder="Activity Name" value=""/><br/>
<input type="button" onclick="startActivity()" value="Start Activity"/><br/>
<h1>Create Action</h1>
<input type="text" id="actname" name="actname" placeholder="Action Name" value=""/><br/>
<input type="text" id="response" name="response" placeholder="Response" value=""/><br/>
<input type="text" id="Score" name="actname" placeholder="Score" value=""/><br/>
<input type="text" id="Duration" name="actname" placeholder="Duration" value=""/><br/>
<input type="text" id="Attempts" name="actname" placeholder="Attempts" value=""/><br/>
<input type="text" id="correct" name="actname" placeholder="correct" value=""/><br/>
<input type="text" id="attributes" name="attributes" placeholder="Action State (JSON)" value=""/><br/>
<input type="button" onclick="logAction()" value="Log Action"/><br/>
<br/>
<h1>Complete Activity</h1>
<input type="text" id="aattributes" name="aattributes" placeholder="Activity State (JSON)" value=""/><br/>
<input type="button" onclick="stopActivity()" value="Complete Activity"/><br/>
<h1>Cancel Activity</h1>
<input type="button" onclick="cancelActivity()" value="Cancel Activity"/><br/>

</body>
</html>